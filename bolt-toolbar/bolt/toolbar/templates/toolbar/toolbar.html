{% if toolbar.should_render() %}
<script src="{{ asset('toolbar/toolbar.js') }}"></script>
<div id="bolttoolbar" class="{{ toolbar_outer_class or 'text-sm py-2 text-zinc-200 bg-zinc-800 fixed bottom-0 max-w-full drop-shadow-md ring-2 ring-white/10 z-30 mx-4 rounded-t-lg hidden lg:flex lg:flex-col -translate-x-1/2 left-1/2' }}">
    <div class="{{ toolbar_inner_class or 'container px-4 space-x-4 mx-auto flex justify-between' }}">
        <div class="flex items-center flex-shrink-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="w-4 h-4 mr-1 bi bi-person-badge" viewBox="0 0 16 16">
                <path d="M6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                <path d="M4.5 0A2.5 2.5 0 0 0 2 2.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2.5A2.5 2.5 0 0 0 11.5 0h-7zM3 2.5A1.5 1.5 0 0 1 4.5 1h7A1.5 1.5 0 0 1 13 2.5v10.795a4.2 4.2 0 0 0-.776-.492C11.392 12.387 10.063 12 8 12s-3.392.387-4.224.803a4.2 4.2 0 0 0-.776.492V2.5z"/>
            </svg>
            {% if request.impersonator is defined %}
            <span class="font-medium">{{ request.impersonator }}</span>
            <div class="flex items-center font-light">
                &nbsp;is impersonating&nbsp;<span class="font-medium">{{ request.user }}</span>
                </span>
                <a href="{{ url('impersonate:stop') }}" title="Stop impersonating" class="flex items-center px-1 ml-1 text-red-300 hover:text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="w-4 h-4 bi bi-x-octagon-fill" viewBox="0 0 16 16">
                        <path d="M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zm-6.106 4.5L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"/>
                    </svg>
                </a>
            </div>
            {% else %}
            <span class="font-medium">{{ request.user }}</span>
            {% endif %}
        </div>
        <div class="flex items-center flex-shrink-0 space-x-4">
            <code class="text-xs text-mono cursor-help">{{ toolbar.version }}</code>

            {% if querystats_enabled|default(false) %}{% include "querystats/toolbar.html" %}{% endif %}

            <div class="flex items-center space-x-3 transition-all">
                {% include "toolbar/links.html" %}
                <button data-bolttoolbar-expand class="hover:text-orange-500" type="button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="w-4 h-4" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <div id="bolttoolbar-details" class="hidden p-4 text-sm">
        <table>
            <tbody>
            {% for k, v in toolbar.metadata.items() %}
            <tr>
                <td class="pr-2 font-medium whitespace-nowrap">{{ k }}</td>
                <td class="whitespace-nowrap">{{ v }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>

        {% if object|default(false) %}
        <div class="font-mono" title="PK: {{ object.pk }}">
            {{ object.__repr__() }}
        </div>
        {% endif %}

        <button data-bolttoolbar-hide class="hover:text-red-500" type="button">
            Hide for 1 hour
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="w-4 h-4 bi bi-x-circle-fill" viewBox="0 0 16 16">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
            </svg>
        </button>
    </div>
</div>
{% endif %}
